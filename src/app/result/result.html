<section class="p-6 max-w-2xl mx-auto">
  <h2 class="text-3xl font-bold mb-6 text-center text-cyan-500">Resultados Finales</h2>

  <div class="bg-indigo-100 p-4 rounded-lg text-center mb-8 border-3 border-cyan-500">
    <p class="text-xl">Puntuación Total:</p>
    <p class="text-4xl font-extrabold text-indigo-800">{{ finalScore }} / {{ quizHistory.length }}</p>
    <hr class="m-4 border-1 border-indigo-800">
    <h3 class="text-xl">Tiempo total:</h3>
    <p class="text-4xl font-extrabold text-indigo-800">{{ tiempoFormateado }}</p>
  </div>

  <div *ngFor="let detail of quizHistory; let i = index" class="mb-6 p-4 border rounded-lg shadow-sm"
    [ngClass]="detail.isCorrect ? ' border-3 border-green-300 bg-green-50' : 'border-3 border-red-300 bg-red-50'">

    <p class="text-lg font-bold mb-2">Pregunta {{ i + 1 }}: {{ detail.question.text }}</p>

    <p class="text-gray-700">
      Tu Respuesta:
      <span *ngIf="detail.selectedAnswer" [class.text-green-600]="detail.isCorrect"
        [class.text-red-600]="!detail.isCorrect">
        {{ detail.selectedAnswer }}
      </span>
      <span *ngIf="!detail.selectedAnswer" class="text-yellow-700 font-medium">
        (Tiempo Agotado)
      </span>
    </p>

    <p class="text-gray-800">
      Respuesta Correcta:
      <span class="font-medium text-green-700">{{ detail.question.correctAnswer }}</span>
    </p>

    <div class="mt-3 pt-3 border-t border-gray-200">
      <p class="font-semibold text-gray-700">Explicación:</p>
      <p class="my-2 text-base text-gray-600">{{ detail.question.explanation }}</p>
    </div>

  </div>

  <div class="mt-8 text-center">
    <button (click)="goToTopics()" class="
      px-6 py-3 
      bg-cyan-600 
      text-white 
      font-semibold 
      rounded-lg 
      shadow-lg 
      hover:bg-cyan-700 
      focus:outline-none 
      focus:ring-4 
      focus:ring-cyan-500 
      focus:ring-opacity-50 
      transition-all 
      duration-300
      hover:scale-110
      cursor-pointer
    ">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"
        class="w-5 h-5 inline ml-2 -mt-0.5">
        <path
          d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z" />
      </svg>

      Volver a elegir tema
    </button>
  </div>
</section>